{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain/assets\\script\\miniGame\\miniMain\\userInfo.js"],"names":["cc","Class","extends","Component","properties","nicknameLab","default","type","Label","tooltip","signatureLab","editFrame","Node","avatar","Sprite","onLoad","avatarUrl","global","imageConf","clientAttrData","loader","load","url","error","purl","oldSize","node","width","spriteFrame","SpriteFrame","newSize","scale","on","init","systemEvent","onDestroy","off","string","nickname","signature","onModifyClick","target","data","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ,KAFA;AAGTC,qBAAS;AAHA,SADL;AAMRC,sBAAc;AACVJ,qBAAS,IADC;AAEVC,kBAAMP,GAAGQ,KAFC;AAGVC,qBAAS;AAHC,SANN;AAWRE,mBAAW;AACPL,qBAAS,IADF;AAEPC,kBAAMP,GAAGY,IAFF;AAGPH,qBAAS;AAHF,SAXH;AAgBRI,gBAAO;AACHP,qBAAS,IADN;AAEHC,kBAAMP,GAAGc,MAFN;AAGHL,qBAAS;AAHN;AAhBC,KAHP;;AA0BL;;AAEAM,UA5BK,oBA4BK;AAAA;;AACN;AACA,YAAIC,YAAYC,iBAAOC,SAAP,CAAiBL,MAAjB,CAAwBI,iBAAOE,cAAP,CAAsBN,MAA9C,CAAhB;AACAb,WAAGoB,MAAH,CAAUC,IAAV,CAAe,EAAEC,KAAIN,SAAN,EAAiBT,MAAM,KAAvB,EAAf,EAA+C,UAACgB,KAAD,EAAQC,IAAR,EAAiB;AAC5D,gBAAIC,UAAU,MAAKZ,MAAL,CAAYa,IAAZ,CAAiBC,KAA/B;AACA,kBAAKd,MAAL,CAAYe,WAAZ,GAA0B,IAAI5B,GAAG6B,WAAP,CAAmBL,IAAnB,CAA1B;AACA,gBAAIM,UAAU,MAAKjB,MAAL,CAAYa,IAAZ,CAAiBC,KAA/B;AACA,kBAAKd,MAAL,CAAYa,IAAZ,CAAiBK,KAAjB,GAAyBN,UAAQK,OAAR,GAAgB,CAAzC;AACH,SALD;AAMA,aAAKJ,IAAL,CAAUM,EAAV,CAAa,QAAb,EAAsB,KAAKC,IAA3B,EAAgC,IAAhC;AACAjC,WAAGkC,WAAH,CAAeF,EAAf,CAAkB,gBAAlB,EAAmC,KAAKC,IAAxC,EAA6C,IAA7C;AACH,KAvCI;AAyCLE,aAzCK,uBAyCM;AACPnC,WAAGkC,WAAH,CAAeE,GAAf,CAAmB,gBAAnB,EAAoC,KAAKH,IAAzC,EAA8C,IAA9C;AACH,KA3CI;AA6CLA,QA7CK,kBA8CL;AACI,aAAK5B,WAAL,CAAiBgC,MAAjB,GAA0BpB,iBAAOE,cAAP,CAAsBmB,QAAtB,GAA+BrB,iBAAOE,cAAP,CAAsBmB,QAArD,GAA8D,EAAxF;AACA,aAAK5B,YAAL,CAAkB2B,MAAlB,GAA2BpB,iBAAOE,cAAP,CAAsBoB,SAAtB,GAAgCtB,iBAAOE,cAAP,CAAsBoB,SAAtD,GAAgE,EAA3F;AAEH,KAlDI;AAoDLC,iBApDK,yBAoDSC,MApDT,EAoDgBC,IApDhB,EAqDL;AACI,aAAK/B,SAAL,CAAegC,IAAf,CAAoB,MAApB,EAA2B,EAA3B;AACH;AAvDI;;AAyDL;AAzDJ","file":"userInfo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain","sourcesContent":["import global from \"./../../global/global\";\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        nicknameLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '昵称标签'\r\n        },\r\n        signatureLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '签名标签'\r\n        },\r\n        editFrame: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '签名标签'\r\n        },\r\n        avatar:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n            tooltip: '头像'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        //this.init();\r\n        var avatarUrl = global.imageConf.avatar[global.clientAttrData.avatar];\r\n        cc.loader.load({ url:avatarUrl, type: 'png' }, (error, purl) => {\r\n            let oldSize = this.avatar.node.width;\r\n            this.avatar.spriteFrame = new cc.SpriteFrame(purl)\r\n            let newSize = this.avatar.node.width;\r\n            this.avatar.node.scale = oldSize/newSize/2;\r\n        });\r\n        this.node.on('update',this.init,this);\r\n        cc.systemEvent.on('updateUserInfo',this.init,this);\r\n    },\r\n\r\n    onDestroy(){\r\n        cc.systemEvent.off('updateUserInfo',this.init,this);\r\n    },\r\n\r\n    init()\r\n    {\r\n        this.nicknameLab.string = global.clientAttrData.nickname?global.clientAttrData.nickname:\"\";\r\n        this.signatureLab.string = global.clientAttrData.signature?global.clientAttrData.signature:\"\";\r\n\r\n    },\r\n\r\n    onModifyClick(target,data)\r\n    {\r\n        this.editFrame.emit('show',{});\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}