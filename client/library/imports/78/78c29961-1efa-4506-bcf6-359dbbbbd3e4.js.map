{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\home\\prefab/assets\\script\\home\\prefab\\homeItem.js"],"names":["cc","Class","extends","Component","properties","itemAtlas","default","type","SpriteAtlas","tooltip","itemSprite","Sprite","itemLab","Label","itemId","Integer","id","onLoad","node","on","init","start","data","spriteFrame","getSpriteFrame","global","configConf","string","parseInt","onButtonClick","log","getPosition","convertToWorldSpaceAR","v2","substr","systemEvent","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU;AACNC,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,WAFH;AAGNC,qBAAS;AAHH,SADF;AAMRC,oBAAW;AACPJ,qBAAS,IADF;AAEPC,kBAAMP,GAAGW,MAFF;AAGPF,qBAAS;AAHF,SANH;AAWRG,iBAAQ;AACJN,qBAAS,IADL;AAEJC,kBAAMP,GAAGa,KAFL;AAGJJ,qBAAS;AAHL,SAXA;AAgBRK,gBAAO;AACHR,qBAAS,CADN;AAEHC,kBAAMP,GAAGe,OAFN;AAGHN,qBAAS;AAHN,SAhBC;AAqBRO,YAAG;AACCV,qBAAS,CADV;AAECC,kBAAMP,GAAGe,OAFV;AAGCN,qBAAS;AAHV;AArBK,KAHP;;AA+BL;;AAEAQ,UAjCK,oBAiCK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKC,IAAzB,EAA8B,IAA9B;AACH,KAnCI;AAqCLC,SArCK,mBAqCI,CAER,CAvCI;AAyCLD,QAzCK,gBAyCAE,IAzCA,EAyCK;AACN,aAAKZ,UAAL,CAAgBa,WAAhB,GAA8B,KAAKlB,SAAL,CAAemB,cAAf,CAA8BC,iBAAOC,UAAP,CAAkB,MAAlB,EAA0BJ,KAAK,SAAL,CAA1B,EAA2C,OAA3C,CAA9B,CAA9B;AACA,aAAKV,OAAL,CAAae,MAAb,GAAsB,MAAML,KAAK,KAAL,CAA5B;AACA,aAAKR,MAAL,GAAcQ,KAAK,SAAL,CAAd;AACA,aAAKN,EAAL,GAAUY,SAASN,KAAK,IAAL,CAAT,CAAV;AAEH,KA/CI;AAmDLO,iBAnDK,2BAmDU;AACX7B,WAAG8B,GAAH,CAAO,KAAKZ,IAAL,CAAUa,WAAV,EAAP;AACA,YAAIT,OAAO;AACP,uBAAU,KAAKR,MADR;AAEP,mBAAM,KAAKI,IAAL,CAAUc,qBAAV,CAAgChC,GAAGiC,EAAH,CAAM,CAAC,GAAP,EAAW,CAAC,GAAZ,CAAhC,CAFC;AAGP,mBAAML,SAAS,KAAKhB,OAAL,CAAae,MAAb,CAAoBO,MAApB,CAA2B,CAA3B,CAAT,CAHC;AAIP,kBAAK,KAAKlB;AAJH,SAAX;AAMAhB,WAAGmC,WAAH,CAAeC,IAAf,CAAoB,UAApB,EAA+Bd,IAA/B;AACH;AA5DI;;AA8DL;AA9DJ","file":"homeItem.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\home\\prefab","sourcesContent":["import global from './../../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        itemAtlas:{\r\n            default: null,\r\n            type: cc.SpriteAtlas,\r\n            tooltip: '道具plist'\r\n        },\r\n        itemSprite:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n            tooltip: '道具图片'\r\n        },\r\n        itemLab:{\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '道具数量'\r\n        },\r\n        itemId:{\r\n            default: 0,\r\n            type: cc.Integer,\r\n            tooltip: '道具id'\r\n        },\r\n        id:{\r\n            default: 0,\r\n            type: cc.Integer,\r\n            tooltip: 'id'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on('init',this.init,this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    init(data){\r\n        this.itemSprite.spriteFrame = this.itemAtlas.getSpriteFrame(global.configConf['item'][data['item_id']]['image']);\r\n        this.itemLab.string = '✖' + data['num'];\r\n        this.itemId = data['item_id'];\r\n        this.id = parseInt(data['id']);\r\n\r\n    },\r\n\r\n\r\n\r\n    onButtonClick(){\r\n        cc.log(this.node.getPosition());\r\n        var data = {\r\n            'item_id':this.itemId,\r\n            'pos':this.node.convertToWorldSpaceAR(cc.v2(-320,-475)),\r\n            'num':parseInt(this.itemLab.string.substr(1)),\r\n            'id':this.id\r\n        };\r\n        cc.systemEvent.emit('showInfo',data);\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}