{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\home\\bag/assets\\script\\home\\bag\\food.js"],"names":["cc","Class","extends","Component","properties","head","default","type","Node","tooltip","content","itemPrefab","Prefab","flag","onLoad","node","on","btnTouch","fade","start","show","active","removeAllChildren","index","global","itemData","items","configConf","item_id","item","instantiate","parent","param","num","id","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAM;AACFC,qBAAS,IADP;AAEFC,kBAAKP,GAAGQ,IAFN;AAGFC,qBAAS;AAHP,SADE;AAMRC,iBAAS;AACLJ,qBAAS,IADJ;AAELC,kBAAKP,GAAGQ,IAFH;AAGLC,qBAAS;AAHJ,SAND;AAWRE,oBAAW;AACPL,qBAAS,IADF;AAEPC,kBAAKP,GAAGY,MAFD;AAGPH,qBAAS;AAHF,SAXH;AAgBRI,cAAM;AACFP,qBAAS,KADP;AAEFG,qBAAS;AAFP;AAhBE,KAHP;;AAyBL;;AAEAK,UA3BK,oBA2BK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,UAAb,EAAwB,KAAKC,QAA7B,EAAsC,IAAtC;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKE,IAAzB,EAA8B,IAA9B;AACH,KA9BI;AAgCLC,SAhCK,mBAgCI,CAER,CAlCI;AAoCLF,YApCK,sBAoCK;AACN,YAAG,CAAC,KAAKJ,IAAT,EACA;AACI,iBAAKO,IAAL;AACH,SAHD,MAKA;AACI,iBAAKF,IAAL;AACH;AAEJ,KA9CI;AAgDLE,QAhDK,kBAgDC;AACF,aAAKP,IAAL,GAAY,IAAZ;AACA,aAAKR,IAAL,CAAUgB,MAAV,GAAmB,IAAnB;AACA,aAAKN,IAAL,CAAUM,MAAV,GAAmB,KAAKR,IAAxB;;AAEA,aAAKH,OAAL,CAAaY,iBAAb;AACA,aAAI,IAAIC,KAAR,IAAiBC,iBAAOC,QAAP,CAAgBC,KAAjC,EACA;AACI,gBAAGF,iBAAOG,UAAP,CAAkB,MAAlB,EAA0BH,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BK,OAAvD,EAAgE,UAAhE,KAA+E,MAAlF,EACA;AACI,oBAAIC,OAAO7B,GAAG8B,WAAH,CAAe,KAAKnB,UAApB,CAAX;AACAkB,qBAAKE,MAAL,GAAc,KAAKrB,OAAnB;AACA,oBAAIsB,QAAQ;AACRC,yBAAIT,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BU,GADzB;AAERL,6BAAQJ,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BK,OAF7B;AAGRM,wBAAGV,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BW,EAHxB;AAIR3B,0BAAKiB,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BhB;AAJ1B,iBAAZ;AAMAsB,qBAAKM,IAAL,CAAU,MAAV,EAAiBH,KAAjB;AACH;AAEJ;AACJ,KAtEI;AAwELd,QAxEK,kBAwEC;AACF,aAAKL,IAAL,GAAY,KAAZ;AACA,aAAKR,IAAL,CAAUgB,MAAV,GAAmB,KAAnB;AACA,aAAKX,OAAL,CAAaY,iBAAb;AACA,aAAKP,IAAL,CAAUM,MAAV,GAAmB,KAAKR,IAAxB;AACH;AA7EI;;AAiFL;AAjFJ","file":"food.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\home\\bag","sourcesContent":["import global from './../../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        head: {\r\n            default: null,\r\n            type:cc.Node,\r\n            tooltip: '头部'\r\n        }, \r\n        content: {\r\n            default: null,\r\n            type:cc.Node,\r\n            tooltip: '内容'\r\n        }, \r\n        itemPrefab:{\r\n            default: null,\r\n            type:cc.Prefab,\r\n            tooltip: '道具预制体'\r\n        }, \r\n        flag: {\r\n            default: false,\r\n            tooltip: '开关标识'\r\n        }, \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on('btnTouch',this.btnTouch,this);\r\n        this.node.on('fade',this.fade,this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    btnTouch(){\r\n        if(!this.flag)\r\n        {\r\n            this.show();\r\n        }\r\n        else\r\n        {\r\n            this.fade();\r\n        }\r\n\r\n    },\r\n\r\n    show(){\r\n        this.flag = true;\r\n        this.head.active = true;\r\n        this.node.active = this.flag;\r\n        \r\n        this.content.removeAllChildren();\r\n        for(var index in global.itemData.items)\r\n        {\r\n            if(global.configConf['item'][global.itemData.items[index].item_id]['showType'] == 'food')\r\n            {\r\n                var item = cc.instantiate(this.itemPrefab);\r\n                item.parent = this.content;\r\n                var param = {\r\n                    num:global.itemData.items[index].num,\r\n                    item_id:global.itemData.items[index].item_id,\r\n                    id:global.itemData.items[index].id,\r\n                    type:global.itemData.items[index].type,\r\n                };\r\n                item.emit('init',param);\r\n            }\r\n\r\n        }\r\n    },\r\n\r\n    fade(){\r\n        this.flag = false;\r\n        this.head.active = false;\r\n        this.content.removeAllChildren();\r\n        this.node.active = this.flag;\r\n    },\r\n\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}