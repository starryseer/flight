{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\home\\bag/assets\\script\\home\\bag\\food.js"],"names":["cc","Class","extends","Component","properties","head","default","type","Node","tooltip","content","itemPrefab","Prefab","flag","onLoad","node","on","init","btnTouch","fade","start","show","active","removeAllChildren","index","global","itemData","items","configConf","item_id","item","instantiate","parent","param","num","id","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAM;AACFC,qBAAS,IADP;AAEFC,kBAAKP,GAAGQ,IAFN;AAGFC,qBAAS;AAHP,SADE;AAMRC,iBAAS;AACLJ,qBAAS,IADJ;AAELC,kBAAKP,GAAGQ,IAFH;AAGLC,qBAAS;AAHJ,SAND;AAWRE,oBAAW;AACPL,qBAAS,IADF;AAEPC,kBAAKP,GAAGY,MAFD;AAGPH,qBAAS;AAHF,SAXH;AAgBRI,cAAM;AACFP,qBAAS,KADP;AAEFG,qBAAS;AAFP;AAhBE,KAHP;;AAyBL;;AAEAK,UA3BK,oBA2BK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKC,IAAzB,EAA8B,IAA9B;AACA,aAAKF,IAAL,CAAUC,EAAV,CAAa,UAAb,EAAwB,KAAKE,QAA7B,EAAsC,IAAtC;AACA,aAAKH,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKG,IAAzB,EAA8B,IAA9B;AACH,KA/BI;AAiCLC,SAjCK,mBAiCI,CAER,CAnCI;AAqCLF,YArCK,sBAqCK;AACN,YAAG,CAAC,KAAKL,IAAT,EACA;AACI,iBAAKQ,IAAL;AACH,SAHD,MAKA;AACI,iBAAKF,IAAL;AACH;AAEJ,KA/CI;AAiDLE,QAjDK,kBAiDC;AACF,aAAKR,IAAL,GAAY,IAAZ;AACA,aAAKR,IAAL,CAAUiB,MAAV,GAAmB,IAAnB;AACA,aAAKP,IAAL,CAAUO,MAAV,GAAmB,KAAKT,IAAxB;AACH,KArDI;AAuDLM,QAvDK,kBAuDC;AACF,aAAKN,IAAL,GAAY,KAAZ;AACA,aAAKR,IAAL,CAAUiB,MAAV,GAAmB,KAAnB;AACA,aAAKP,IAAL,CAAUO,MAAV,GAAmB,KAAKT,IAAxB;AACH,KA3DI;AA6DLI,QA7DK,kBA6DC;AACF,aAAKI,IAAL;AACA,aAAKX,OAAL,CAAaa,iBAAb;AACA,aAAI,IAAIC,KAAR,IAAiBC,iBAAOC,QAAP,CAAgBC,KAAjC,EACA;AACI,gBAAGF,iBAAOG,UAAP,CAAkB,MAAlB,EAA0BH,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BK,OAAvD,EAAgE,UAAhE,KAA+E,MAAlF,EACA;AACI,oBAAIC,OAAO9B,GAAG+B,WAAH,CAAe,KAAKpB,UAApB,CAAX;AACAmB,qBAAKE,MAAL,GAAc,KAAKtB,OAAnB;AACA,oBAAIuB,QAAQ;AACRC,yBAAIT,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BU,GADzB;AAERL,6BAAQJ,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BK,OAF7B;AAGRM,wBAAGV,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BW,EAHxB;AAIR5B,0BAAKkB,iBAAOC,QAAP,CAAgBC,KAAhB,CAAsBH,KAAtB,EAA6BjB;AAJ1B,iBAAZ;AAMAuB,qBAAKM,IAAL,CAAU,MAAV,EAAiBH,KAAjB;AACH;AACJ;AACD,aAAKd,IAAL;AACH;AAhFI;;AAmFL;AAnFJ","file":"food.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\home\\bag","sourcesContent":["import global from './../../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        head: {\r\n            default: null,\r\n            type:cc.Node,\r\n            tooltip: '头部'\r\n        }, \r\n        content: {\r\n            default: null,\r\n            type:cc.Node,\r\n            tooltip: '内容'\r\n        }, \r\n        itemPrefab:{\r\n            default: null,\r\n            type:cc.Prefab,\r\n            tooltip: '道具预制体'\r\n        }, \r\n        flag: {\r\n            default: false,\r\n            tooltip: '开关标识'\r\n        }, \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on('init',this.init,this);\r\n        this.node.on('btnTouch',this.btnTouch,this);\r\n        this.node.on('fade',this.fade,this);\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    btnTouch(){\r\n        if(!this.flag)\r\n        {\r\n            this.show();\r\n        }\r\n        else\r\n        {\r\n            this.fade();\r\n        }\r\n\r\n    },\r\n\r\n    show(){\r\n        this.flag = true;\r\n        this.head.active = true;\r\n        this.node.active = this.flag;       \r\n    },\r\n\r\n    fade(){\r\n        this.flag = false;\r\n        this.head.active = false;\r\n        this.node.active = this.flag;\r\n    },\r\n\r\n    init(){\r\n        this.show();\r\n        this.content.removeAllChildren();\r\n        for(var index in global.itemData.items)\r\n        {\r\n            if(global.configConf['item'][global.itemData.items[index].item_id]['showType'] == 'food')\r\n            {\r\n                var item = cc.instantiate(this.itemPrefab);\r\n                item.parent = this.content;\r\n                var param = {\r\n                    num:global.itemData.items[index].num,\r\n                    item_id:global.itemData.items[index].item_id,\r\n                    id:global.itemData.items[index].id,\r\n                    type:global.itemData.items[index].type,\r\n                };\r\n                item.emit('init',param);\r\n            }\r\n        }\r\n        this.fade();\r\n    },\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}