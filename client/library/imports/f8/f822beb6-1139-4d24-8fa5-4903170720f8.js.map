{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain\\prefab/assets\\script\\miniGame\\miniMain\\prefab\\rankInfo.js"],"names":["cc","Class","extends","Component","properties","rankLab","default","type","Label","tooltip","pointLab","nicknameLab","avatar","Sprite","onLoad","node","on","init","data","avatarUrl","global","imageConf","clientAttrData","loader","load","url","error","purl","oldSize","width","spriteFrame","SpriteFrame","newSize","scale","string","rank","point","nickname"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ,KAFJ;AAGLC,qBAAS;AAHJ,SADD;AAMRC,kBAAU;AACNJ,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,KAFH;AAGNC,qBAAS;AAHH,SANF;AAWRE,qBAAa;AACTL,qBAAS,IADA;AAETC,kBAAMP,GAAGQ,KAFA;AAGTC,qBAAS;AAHA,SAXL;AAgBRG,gBAAO;AACHN,qBAAS,IADN;AAEHC,kBAAMP,GAAGa,MAFN;AAGHJ,qBAAS;AAHN;AAhBC,KAHP;;AA0BL;;AAEAK,UA5BK,oBA4BK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKC,IAAzB,EAA8B,IAA9B;AACH,KA9BI;AAgCLA,QAhCK,gBAgCAC,IAhCA,EAiCL;AAAA;;AACI,YAAIC,YAAYC,iBAAOC,SAAP,CAAiBT,MAAjB,CAAwBQ,iBAAOE,cAAP,CAAsBV,MAA9C,CAAhB;AACAZ,WAAGuB,MAAH,CAAUC,IAAV,CAAe,EAAEC,KAAIN,SAAN,EAAiBZ,MAAM,KAAvB,EAAf,EAA+C,UAACmB,KAAD,EAAQC,IAAR,EAAiB;AAC5D,gBAAIC,UAAU,MAAKhB,MAAL,CAAYG,IAAZ,CAAiBc,KAA/B;AACA,kBAAKjB,MAAL,CAAYkB,WAAZ,GAA0B,IAAI9B,GAAG+B,WAAP,CAAmBJ,IAAnB,CAA1B;AACA,gBAAIK,UAAU,MAAKpB,MAAL,CAAYG,IAAZ,CAAiBc,KAA/B;AACA,kBAAKjB,MAAL,CAAYG,IAAZ,CAAiBkB,KAAjB,GAAyBL,UAAQI,OAAR,GAAgB,CAAzC;AACH,SALD;AAMA,aAAK3B,OAAL,CAAa6B,MAAb,GAA0BhB,KAAKiB,IAA/B;AACA,aAAKzB,QAAL,CAAcwB,MAAd,GAA0BhB,KAAKkB,KAA/B;AACA,aAAKzB,WAAL,CAAiBuB,MAAjB,GAA0BhB,KAAKmB,QAA/B;AACH;AA5CI;;AA8CL;AA9CJ","file":"rankInfo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain\\prefab","sourcesContent":["import global from './../../../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        rankLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '排名'\r\n        },\r\n        pointLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '分数'\r\n        },\r\n        nicknameLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '昵称'\r\n        },\r\n        avatar:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n            tooltip: '头像'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on('init',this.init,this);\r\n    },\r\n\r\n    init(data)\r\n    {\r\n        var avatarUrl = global.imageConf.avatar[global.clientAttrData.avatar];\r\n        cc.loader.load({ url:avatarUrl, type: 'png' }, (error, purl) => {\r\n            let oldSize = this.avatar.node.width;\r\n            this.avatar.spriteFrame = new cc.SpriteFrame(purl)\r\n            let newSize = this.avatar.node.width;\r\n            this.avatar.node.scale = oldSize/newSize/2;\r\n        });\r\n        this.rankLab.string     = data.rank;\r\n        this.pointLab.string    = data.point;\r\n        this.nicknameLab.string = data.nickname;\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}