{"version":3,"sources":["..\\..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain\\prefab/assets\\script\\miniGame\\miniMain\\prefab\\rankInfo.js"],"names":["cc","Class","extends","Component","properties","rankLab","default","type","Label","tooltip","pointLab","nicknameLab","avatar","Sprite","headAtlas","SpriteAtlas","onLoad","node","on","init","data","loadAvatar","string","rank","point","nickname","oldSize","width","spriteFrame","getSpriteFrame","global","imageConf","clientAttrData","newSize","scale"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,qBAAS,IADJ;AAELC,kBAAMP,GAAGQ,KAFJ;AAGLC,qBAAS;AAHJ,SADD;AAMRC,kBAAU;AACNJ,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,KAFH;AAGNC,qBAAS;AAHH,SANF;AAWRE,qBAAa;AACTL,qBAAS,IADA;AAETC,kBAAMP,GAAGQ,KAFA;AAGTC,qBAAS;AAHA,SAXL;AAgBRG,gBAAO;AACHN,qBAAS,IADN;AAEHC,kBAAMP,GAAGa,MAFN;AAGHJ,qBAAS;AAHN,SAhBC;AAqBRK,mBAAU;AACNR,qBAAS,IADH;AAENC,kBAAMP,GAAGe,WAFH;AAGNN,qBAAS;AAHH;AArBF,KAHP;;AA+BL;;AAEAO,UAjCK,oBAiCK;AACN,aAAKC,IAAL,CAAUC,EAAV,CAAa,MAAb,EAAoB,KAAKC,IAAzB,EAA8B,IAA9B;AACH,KAnCI;AAqCLA,QArCK,gBAqCAC,IArCA,EAsCL;AACI,aAAKC,UAAL;AACA,aAAKhB,OAAL,CAAaiB,MAAb,GAA0BF,KAAKG,IAA/B;AACA,aAAKb,QAAL,CAAcY,MAAd,GAA0BF,KAAKI,KAA/B;AACA,aAAKb,WAAL,CAAiBW,MAAjB,GAA0BF,KAAKK,QAA/B;AACH,KA3CI;AA6CLJ,cA7CK,wBA8CL;AACI,YAAIK,UAAU,KAAKd,MAAL,CAAYK,IAAZ,CAAiBU,KAA/B;AACA,aAAKf,MAAL,CAAYgB,WAAZ,GAA0B,KAAKd,SAAL,CAAee,cAAf,CAA8BC,iBAAOC,SAAP,CAAiBnB,MAAjB,CAAwBkB,iBAAOE,cAAP,CAAsBpB,MAA9C,CAA9B,CAA1B;AACA,YAAIqB,UAAU,KAAKrB,MAAL,CAAYK,IAAZ,CAAiBU,KAA/B;AACA,aAAKf,MAAL,CAAYK,IAAZ,CAAiBiB,KAAjB,GAAyBR,UAAQO,OAAR,GAAgB,CAAzC;AACH;AAnDI;;AAqDL;AArDJ","file":"rankInfo.js","sourceRoot":"..\\..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain\\prefab","sourcesContent":["import global from './../../../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        rankLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '排名'\r\n        },\r\n        pointLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '分数'\r\n        },\r\n        nicknameLab: {\r\n            default: null,\r\n            type: cc.Label,\r\n            tooltip: '昵称'\r\n        },\r\n        avatar:{\r\n            default: null,\r\n            type: cc.Sprite,\r\n            tooltip: '头像'\r\n        },\r\n        headAtlas:{\r\n            default: null,\r\n            type: cc.SpriteAtlas,\r\n            tooltip: '头像plist'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.node.on('init',this.init,this);\r\n    },\r\n\r\n    init(data)\r\n    {\r\n        this.loadAvatar();\r\n        this.rankLab.string     = data.rank;\r\n        this.pointLab.string    = data.point;\r\n        this.nicknameLab.string = data.nickname;\r\n    },\r\n\r\n    loadAvatar()\r\n    {\r\n        let oldSize = this.avatar.node.width;\r\n        this.avatar.spriteFrame = this.headAtlas.getSpriteFrame(global.imageConf.avatar[global.clientAttrData.avatar]);\r\n        let newSize = this.avatar.node.width;\r\n        this.avatar.node.scale = oldSize/newSize/2;\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}