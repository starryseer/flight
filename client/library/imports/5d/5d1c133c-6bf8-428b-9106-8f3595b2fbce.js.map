{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniInit/assets\\script\\miniGame\\miniInit\\refirm.js"],"names":["cc","Class","extends","Component","properties","onButtonClick","target","data","global","miniInitCache","getNickname","systemEvent","emit","param","userData","id","token","log","HttpHelper","httpPost","urlConf","set_nickname","rsp","code","clientAttrData","initClientAttrData","clientAttr","director","loadScene"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;;AAEAC,iBATK,yBASSC,MATT,EASgBC,IAThB,EAUL;AACI,YAAG,CAACC,iBAAOC,aAAP,CAAqBC,WAArB,EAAJ,EACA;AACIV,eAAGW,WAAH,CAAeC,IAAf,CAAoB,UAApB,EAA+B,CAA/B;AACH;;AAED,YAAIC,QAAQ;AACR,sBAASL,iBAAOM,QAAP,CAAgBC,EADjB;AAER,qBAAQP,iBAAOM,QAAP,CAAgBE,KAFhB;AAGR,wBAAWR,iBAAOC,aAAP,CAAqBC,WAArB;AAHH,SAAZ;;AAMAV,WAAGiB,GAAH,CAAOJ,KAAP;;AAEAL,yBAAOU,UAAP,CAAkBC,QAAlB,CAA2BX,iBAAOY,OAAP,CAAeC,YAA1C,EAAuDR,KAAvD,EAA6D,UAACS,GAAD,EAAO;AAChE,gBAAGA,OAAO,CAAC,CAAX,EACA;AACI;AACH;;AAED,gBAAGA,IAAIC,IAAJ,IAAY,GAAf,EACA;AACIf,iCAAOgB,cAAP,CAAsBC,kBAAtB,CAAyCH,IAAIf,IAAJ,CAASmB,UAAlD;AACA1B,mBAAG2B,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACH,aAJD,MAMA;AACI;AACH;AACJ,SAfD;AAgBH;AAxCI;;AA0CL;AA1CJ","file":"refirm.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniInit","sourcesContent":["import global from './../../global/global'\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onButtonClick(target,data)\r\n    {\r\n        if(!global.miniInitCache.getNickname())\r\n        {\r\n            cc.systemEvent.emit('miniInit',0);\r\n        }\r\n\r\n        var param = {\r\n            'userId':global.userData.id,\r\n            'token':global.userData.token,\r\n            'nickname':global.miniInitCache.getNickname(),\r\n        };\r\n\r\n        cc.log(param);\r\n\r\n        global.HttpHelper.httpPost(global.urlConf.set_nickname,param,(rsp)=>{\r\n            if(rsp == -1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            if(rsp.code == 200)\r\n            {\r\n                global.clientAttrData.initClientAttrData(rsp.data.clientAttr);\r\n                cc.director.loadScene('miniMain');\r\n            }\r\n            else\r\n            {\r\n                return;\r\n            }\r\n        });\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}