{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain/assets\\script\\miniGame\\miniMain\\miniMain.js"],"names":["cc","Class","extends","Component","properties","bg","default","type","Node","tooltip","title","userInfo","rankList","onLoad","ratio","global","FitHelper","fitFun","init","param","userId","userData","id","token","HttpHelper","httpPost","urlConf","mini_main","rsp","code","initData","initLab","clientAttrData","initClientAttrData","data","clientAttr","miniGameData","initMiniGameData","miniGame","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAI;AACAC,qBAAS,IADT;AAEAC,kBAAMP,GAAGQ,IAFT;AAGAC,qBAAS;AAHT,SADI;AAMRC,eAAO;AACHJ,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ,IAFN;AAGHC,qBAAS;AAHN,SANC;AAWRE,kBAAU;AACNL,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,IAFH;AAGNC,qBAAS;AAHH,SAXF;AAgBRG,kBAAU;AACNN,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,IAFH;AAGNC,qBAAS;AAHH;AAhBF,KAHP;;AA0BL;;AAEAI,UA5BK,oBA4BK;AACN,YAAIC,QAAQC,iBAAOC,SAAP,CAAiBC,MAAjB,CAAwB,KAAKZ,EAA7B,CAAZ;AACA,aAAKa,IAAL;AACH,KA/BI;AAiCLA,QAjCK,kBAiCC;AAAA;;AACF,YAAIC,QAAQ,EAACC,QAAOL,iBAAOM,QAAP,CAAgBC,EAAxB,EAA2BC,OAAMR,iBAAOM,QAAP,CAAgBE,KAAjD,EAAZ;AACAR,yBAAOS,UAAP,CAAkBC,QAAlB,CAA2BV,iBAAOW,OAAP,CAAeC,SAA1C,EAAoDR,KAApD,EAA0D,UAACS,GAAD,EAAO;AAC7D,gBAAGA,OAAO,CAAC,CAAX,EACA;AACI;AACH;;AAED,gBAAGA,IAAIC,IAAJ,IAAY,GAAf,EACA;AACI,sBAAKC,QAAL,CAAcF,GAAd;AACA,sBAAKG,OAAL;AACH,aAJD,MAMA;AACI;AACH;AACJ,SAfD;AAgBH,KAnDI;AAqDLD,YArDK,oBAqDIF,GArDJ,EAsDL;AACIb,yBAAOiB,cAAP,CAAsBC,kBAAtB,CAAyCL,IAAIM,IAAJ,CAASC,UAAlD;AACApB,yBAAOqB,YAAP,CAAoBC,gBAApB,CAAqCT,IAAIM,IAAJ,CAASI,QAA9C;AACH,KAzDI;AA2DLP,WA3DK,qBA4DL;AACI,aAAKrB,KAAL,CAAW6B,IAAX,CAAgB,MAAhB,EAAuB,EAAvB;AACA,aAAK5B,QAAL,CAAc4B,IAAd,CAAmB,MAAnB,EAA0B,EAA1B;AACA,aAAK3B,QAAL,CAAc2B,IAAd,CAAmB,MAAnB,EAA0B,EAA1B;AACH;;AAGD;;AAnEK,CAAT","file":"miniMain.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain","sourcesContent":["import global from \"./../../global/global\"\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '背景'\r\n        },\r\n        title: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '标题栏'\r\n        },\r\n        userInfo: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '用户信息栏'\r\n        },\r\n        rankList: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '排名栏'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        var ratio = global.FitHelper.fitFun(this.bg);\r\n        this.init();\r\n    },\r\n\r\n    init(){\r\n        var param = {userId:global.userData.id,token:global.userData.token};\r\n        global.HttpHelper.httpPost(global.urlConf.mini_main,param,(rsp)=>{\r\n            if(rsp == -1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            if(rsp.code == 200)\r\n            {\r\n                this.initData(rsp);\r\n                this.initLab();\r\n            }\r\n            else\r\n            {\r\n                return;\r\n            }\r\n        });\r\n    },\r\n    \r\n    initData(rsp)\r\n    {\r\n        global.clientAttrData.initClientAttrData(rsp.data.clientAttr);\r\n        global.miniGameData.initMiniGameData(rsp.data.miniGame);\r\n    },\r\n\r\n    initLab()\r\n    {\r\n        this.title.emit('init',{});\r\n        this.userInfo.emit('init',{});\r\n        this.rankList.emit('init',{});\r\n    }\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}