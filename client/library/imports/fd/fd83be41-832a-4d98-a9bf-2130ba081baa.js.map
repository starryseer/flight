{"version":3,"sources":["..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain/assets\\script\\miniGame\\miniMain\\miniMain.js"],"names":["cc","Class","extends","Component","properties","bg","default","type","Node","tooltip","title","userInfo","rankList","editFrame","rankFrame","onLoad","global","clientAttrData","nickname","director","loadScene","FitHelper","fitFun","start","param","userId","userData","id","token","HttpHelper","httpPost","urlConf","mini_main","rsp","code","initData","initLab","onDestroy","initClientAttrData","data","clientAttr","miniGameData","initMiniGameData","miniGame","emit"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAI;AACAC,qBAAS,IADT;AAEAC,kBAAMP,GAAGQ,IAFT;AAGAC,qBAAS;AAHT,SADI;AAMRC,eAAO;AACHJ,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ,IAFN;AAGHC,qBAAS;AAHN,SANC;AAWRE,kBAAU;AACNL,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,IAFH;AAGNC,qBAAS;AAHH,SAXF;AAgBRG,kBAAU;AACNN,qBAAS,IADH;AAENC,kBAAMP,GAAGQ,IAFH;AAGNC,qBAAS;AAHH,SAhBF;AAqBRI,mBAAW;AACPP,qBAAS,IADF;AAEPC,kBAAMP,GAAGQ,IAFF;AAGPC,qBAAS;AAHF,SArBH;AA0BRK,mBAAW;AACPR,qBAAS,IADF;AAEPC,kBAAMP,GAAGQ,IAFF;AAGPC,qBAAS;AAHF;AA1BH,KAHP;;AAoCL;;AAEAM,UAtCK,oBAsCK;AACN,YAAG,CAACC,iBAAOC,cAAP,CAAsBC,QAA1B,EACA;AACIlB,eAAGmB,QAAH,CAAYC,SAAZ,CAAsB,UAAtB;AACA;AACH;AACDJ,yBAAOK,SAAP,CAAiBC,MAAjB,CAAwB,KAAKjB,EAA7B;AACH,KA7CI;AA+CLkB,SA/CK,mBA+CE;AAAA;;AACH,YAAIC,QAAQ,EAACC,QAAOT,iBAAOU,QAAP,CAAgBC,EAAxB,EAA2BC,OAAMZ,iBAAOU,QAAP,CAAgBE,KAAjD,EAAZ;AACAZ,yBAAOa,UAAP,CAAkBC,QAAlB,CAA2Bd,iBAAOe,OAAP,CAAeC,SAA1C,EAAoDR,KAApD,EAA0D,UAACS,GAAD,EAAO;AAC7D,gBAAGA,OAAO,CAAC,CAAX,EACA;AACI;AACH;;AAED,gBAAGA,IAAIC,IAAJ,IAAY,GAAf,EACA;AACI,sBAAKC,QAAL,CAAcF,GAAd;AACA,sBAAKG,OAAL;AACH,aAJD,MAMA;AACI;AACH;AACJ,SAfD;AAgBH,KAjEI;AAmELC,aAnEK,uBAmEM,CACV,CApEI;AAsELF,YAtEK,oBAsEIF,GAtEJ,EAuEL;AACIjB,yBAAOC,cAAP,CAAsBqB,kBAAtB,CAAyCL,IAAIM,IAAJ,CAASC,UAAlD;AACAxB,yBAAOyB,YAAP,CAAoBC,gBAApB,CAAqCT,IAAIM,IAAJ,CAASI,QAA9C;AACH,KA1EI;AA4ELP,WA5EK,qBA6EL;AACI,aAAK1B,KAAL,CAAWkC,IAAX,CAAgB,QAAhB,EAAyB,EAAzB;AACA,aAAKhC,QAAL,CAAcgC,IAAd,CAAmB,QAAnB,EAA4B,EAA5B;AACA,aAAKjC,QAAL,CAAciC,IAAd,CAAmB,QAAnB,EAA4B,EAA5B;AACH;;AAGD;;AApFK,CAAT","file":"miniMain.js","sourceRoot":"..\\..\\..\\..\\..\\..\\assets\\script\\miniGame\\miniMain","sourcesContent":["import global from \"./../../global/global\"\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '背景'\r\n        },\r\n        title: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '标题栏'\r\n        },\r\n        userInfo: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '用户信息栏'\r\n        },\r\n        rankList: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '排名栏'\r\n        },\r\n        editFrame: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '编辑框'\r\n        },\r\n        rankFrame: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '排名框'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        if(!global.clientAttrData.nickname)\r\n        {\r\n            cc.director.loadScene('miniInit');\r\n            return;\r\n        }\r\n        global.FitHelper.fitFun(this.bg);\r\n    },\r\n\r\n    start(){\r\n        var param = {userId:global.userData.id,token:global.userData.token};\r\n        global.HttpHelper.httpPost(global.urlConf.mini_main,param,(rsp)=>{\r\n            if(rsp == -1)\r\n            {\r\n                return;\r\n            }\r\n\r\n            if(rsp.code == 200)\r\n            {\r\n                this.initData(rsp);\r\n                this.initLab();\r\n            }\r\n            else\r\n            {\r\n                return;\r\n            }\r\n        });\r\n    },\r\n\r\n    onDestroy(){\r\n    },\r\n    \r\n    initData(rsp)\r\n    {\r\n        global.clientAttrData.initClientAttrData(rsp.data.clientAttr);\r\n        global.miniGameData.initMiniGameData(rsp.data.miniGame);\r\n    },\r\n\r\n    initLab()\r\n    {\r\n        this.title.emit('update',{});\r\n        this.rankList.emit('update',{});\r\n        this.userInfo.emit('update',{});\r\n    }\r\n\r\n\r\n    // update (dt) {},\r\n});\r\n"]}