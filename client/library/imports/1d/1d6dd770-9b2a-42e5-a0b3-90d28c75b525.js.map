{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\script\\shop/assets\\script\\shop\\getFrame.js"],"names":["cc","Class","extends","Component","properties","bg","default","type","Node","tooltip","layout","item","Prefab","onLoad","global","FitHelper","onEnable","systemEvent","on","show","onDestroy","off","data","node","setPosition","v2","removeAllChildren","index","instantiate","parent","emit","opacity","runAction","sequence","delayTime","fadeIn","fade","onCloseClick","target"],"mappings":";;;;;;AAAA;;;;;;AACAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,YAAI;AACAC,qBAAS,IADT;AAEAC,kBAAMP,GAAGQ,IAFT;AAGAC,qBAAS;AAHT,SADI;AAMRC,gBAAO;AACHJ,qBAAS,IADN;AAEHC,kBAAMP,GAAGQ,IAFN;AAGHC,qBAAS;AAHN,SANC;AAWRE,cAAK;AACDL,qBAAS,IADR;AAEDC,kBAAMP,GAAGY,MAFR;AAGDH,qBAAS;AAHR;AAXG,KAHP;;AAqBL;;AAEAI,UAvBK,oBAuBK;AACNC,yBAAOC,SAAP,CAAiBC,QAAjB,CAA0B,KAAKX,EAA/B;AACAL,WAAGiB,WAAH,CAAeC,EAAf,CAAkB,SAAlB,EAA4B,KAAKC,IAAjC,EAAsC,IAAtC;AACH,KA1BI;AA4BLC,aA5BK,uBA4BM;AACPpB,WAAGiB,WAAH,CAAeI,GAAf,CAAmB,SAAnB,EAA6B,KAAKF,IAAlC,EAAuC,IAAvC;AACH,KA9BI;AAgCLA,QAhCK,gBAgCAG,IAhCA,EAgCK;AACN,aAAKC,IAAL,CAAUC,WAAV,CAAsBxB,GAAGyB,EAAH,CAAM,CAAN,EAAQ,CAAR,CAAtB;AACA,aAAKf,MAAL,CAAYgB,iBAAZ;AACA,aAAI,IAAIC,KAAR,IAAiBL,IAAjB,EACA;AACI,gBAAIX,OAAOX,GAAG4B,WAAH,CAAe,KAAKjB,IAApB,CAAX;AACAA,iBAAKkB,MAAL,GAAc,KAAKnB,MAAnB;AACAC,iBAAKmB,IAAL,CAAU,MAAV,EAAiBR,KAAKK,KAAL,CAAjB;AACAhB,iBAAKoB,OAAL,GAAe,CAAf;AACApB,iBAAKqB,SAAL,CAAehC,GAAGiC,QAAH,CAAYjC,GAAGkC,SAAH,CAAaP,QAAM,EAAnB,CAAZ,EAAmC3B,GAAGmC,MAAH,CAAU,GAAV,CAAnC,CAAf;AACH;AACDnC,WAAGiB,WAAH,CAAea,IAAf,CAAoB,UAApB,EAA+B,EAA/B;AACH,KA5CI;AA8CLM,QA9CK,kBA8CC;AACF,aAAKb,IAAL,CAAUC,WAAV,CAAsBxB,GAAGyB,EAAH,CAAM,IAAN,EAAW,CAAX,CAAtB;AACH,KAhDI;AAkDLY,gBAlDK,wBAkDQC,MAlDR,EAkDehB,IAlDf,EAmDL;AACI,aAAKc,IAAL;AACH;AArDI;;AAuDL;AAvDJ","file":"getFrame.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\script\\shop","sourcesContent":["import global from './../global/global';\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        bg: {\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '背景'\r\n        },\r\n        layout:{\r\n            default: null,\r\n            type: cc.Node,\r\n            tooltip: '显示框'\r\n        },\r\n        item:{\r\n            default: null,\r\n            type: cc.Prefab,\r\n            tooltip: '道具预制体'\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        global.FitHelper.onEnable(this.bg);\r\n        cc.systemEvent.on('getShow',this.show,this);\r\n    },\r\n\r\n    onDestroy(){\r\n        cc.systemEvent.off('getShow',this.show,this);\r\n    },\r\n\r\n    show(data){\r\n        this.node.setPosition(cc.v2(0,0));\r\n        this.layout.removeAllChildren();\r\n        for(var index in data)\r\n        {\r\n            var item = cc.instantiate(this.item);\r\n            item.parent = this.layout;\r\n            item.emit('init',data[index]);\r\n            item.opacity = 0;\r\n            item.runAction(cc.sequence(cc.delayTime(index/10),cc.fadeIn(0.1)));\r\n        }\r\n        cc.systemEvent.emit('mainInit',{});\r\n    },\r\n\r\n    fade(){\r\n        this.node.setPosition(cc.v2(2000,0));\r\n    },\r\n\r\n    onCloseClick(target,data)\r\n    {\r\n        this.fade();\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}